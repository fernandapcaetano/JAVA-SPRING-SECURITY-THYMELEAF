<!doctype html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>

    <title>Index</title>
</head>
<body>
    
    <div class="container py-6">
        <div class="row">
          <div class="col-lg-6 mx-auto rounded border p-4">
            <h2 class="text-center mb-4">Register</h2>
            <hr>

            <div th:if="${success}" class="alert alert-success alert-dismissible fade show" role="alert">
              <strong>Account created succesfully</strong>
              <a th:href="@{/login}" class="ms-2">Login</a>
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="close"></button>
            </div>

            <form method="post" th:object="${registerDTO}">
              <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
              
              <div class="row mb-3">
                <label class="col-sm-4 col-form-label">First Name</label>
                <div class="col sm-8">
                  <input type="text" class="form-control" th:field="${registerDTO.firstName}">
                  <p th:if="${#fields.hasErrors('firstName')}"
                      th:errorclass="text-danger"
                      th:errors="${registerDTO.firstName}"></p>
                </div>
              </div>

              <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Last Name</label>
                <div class="col sm-8">
                  <input type="text" class="form-control" th:field="${registerDTO.lastName}">
                  <p th:if="${#fields.hasErrors('lastName')}"
                      th:errorclass="text-danger"
                      th:errors="${registerDTO.lastName}"></p>
                </div>
              </div>

              <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Email</label>
                <div class="col sm-8">
                  <input type="text" class="form-control" th:field="${registerDTO.email}">
                  <p th:if="${#fields.hasErrors('email')}"
                      th:errorclass="text-danger"
                      th:errors="${registerDTO.email}"></p>
                </div>
              </div>

              <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Password</label>
                <div class="col sm-8">
                  <input type="text" class="form-control" th:field="${registerDTO.password}">
                  <p th:if="${#fields.hasErrors('password')}"
                      th:errorclass="text-danger"
                      th:errors="${registerDTO.password}"></p>
                </div>
              </div>

              <div class="row mb-3">
                <label class="col-sm-4 col-form-label">Confirm password</label>
                <div class="col sm-8">
                  <input type="text" class="form-control" th:field="${registerDTO.confirmPassword}">
                  <p th:if="${#fields.hasErrors('confirmPassword')}"
                      th:errorclass="text-danger"
                      th:errors="${registerDTO.confirmPassword}"></p>
                </div>
              </div>

              <div class="row mb-3">
                <div class="offset-sm-4 col-sm-4 d-grid">
                  <button type="submit" class="btn btn-primary">Submit</button>
                </div>
                <div class="col-sm-4 d-grid">
                  <a th:href="@{/}" class="btn btn-outline-primary">Cancel</a>
                </div>
              </div>
            </form>
          </div>
        </div>
    </div>
      
</body>
</html>
